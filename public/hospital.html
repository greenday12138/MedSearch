<html>

<head>
    <title>医院详情</title>
    <link rel="stylesheet" href="./lib/bootstrap.css">
    <link rel="stylesheet" href="lib/fonts/iconfont.css">
    <link rel="stylesheet" href="./src/style.css">
    <script src="lib/axios.js"></script>
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top ">
        <a class="navbar-brand" href="./index.html"> <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>医院详情</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">

            
        </div>
    </nav>

    <div class="col-12" style="height: 3rem;"></div>

    <main class="row" style="width: 80%;margin: auto;">
        <div class="col-12" style="height: 1rem;"></div>
        <div class="card col-12">
            <div class="card-header">
                医院档案
            </div>
            <div class="card-body">
                <img style="width: 200px;height: 150px;" src="src/img/hospital.jpg">
                <h5 id="name" class="card-title">永远亭医院</h5>
                <p id="class" class="card-text">等级</p>
                <p id="address" class="card-text">地址</p>
                <p id="intro" class="card-text">介绍</p>
                <p id="city" class="card-text">城市</p>
                <p id="prov" class="card-text">省份</p>
                
                <a href="#" class="btn btn-primary">访问官网</a>
            </div>
        </div>

    </main>

    <script src="lib/jquery.js"></script>
    <script src="lib/bootstrap.bundle.js"></script>
    <script>
        $(".collapse-open").click(function () {
            $(".collapse").collapse('hide');
            let id = $(this).attr('for');
            $(".collapse[id=\'" + id + "\']").collapse('show');
        });
    </script>

    <script>

        function setInfo(data){
            $("#name")[0].innerText=data.hospital_name;
            $("#class")[0].innerText=data.hospital_class;
            $("#address")[0].innerText=data.hospital_address;
            $("#intro")[0].innerText=data.hospital_introduction;
            $("#city")[0].innerText=data.city_name;
            $("#prov")[0].innerText=data.city_province;
        }

        let key=sessionStorage.getItem('hosid');

        axios.post('/gethosinfo',{
            id:key
        })
        .then(res => {
            console.log(res.data);
            setInfo(res.data);
        })
        .catch(err => {
            console.error(err); 
        });

    </script>
</body>

</html>